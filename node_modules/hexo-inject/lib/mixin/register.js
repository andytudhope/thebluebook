'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _underscore = require('underscore');

var _underscore2 = _interopRequireDefault(_underscore);

var _bluebird = require('bluebird');

var _bluebird2 = _interopRequireDefault(_bluebird);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Register = {
  register: function register() {
    var _this = this;

    var hexo = this.hexo;
    var filter = hexo.extend.filter;

    hexo.inject = this;
    filter.register('after_render:html', this._transform.bind(this));
    filter.register('after_init', function () {
      hexo.log.debug('[hexo-inject] firing inject_ready');
      hexo.execFilter('inject_ready', _this, { context: hexo });
    });
    this.router.register();
  }
};

exports.default = Register;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1peGluL3JlZ2lzdGVyLmVzNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7QUFFQSxJQUFNLFdBQVc7QUFDZixnQ0FBWTs7O1FBQ0osT0FBUyxLQUFULEtBREk7UUFFSixTQUFXLEtBQUssTUFBTCxDQUFYLE9BRkk7O0FBR1YsU0FBSyxNQUFMLEdBQWMsSUFBZCxDQUhVO0FBSVYsV0FBTyxRQUFQLENBQWdCLG1CQUFoQixFQUFxQyxLQUFLLFVBQUwsQ0FBZ0IsSUFBaEIsQ0FBcUIsSUFBckIsQ0FBckMsRUFKVTtBQUtWLFdBQU8sUUFBUCxDQUFnQixZQUFoQixFQUE4QixZQUFNO0FBQ2xDLFdBQUssR0FBTCxDQUFTLEtBQVQsQ0FBZSxtQ0FBZixFQURrQztBQUVsQyxXQUFLLFVBQUwsQ0FBZ0IsY0FBaEIsU0FBc0MsRUFBRSxTQUFTLElBQVQsRUFBeEMsRUFGa0M7S0FBTixDQUE5QixDQUxVO0FBU1YsU0FBSyxNQUFMLENBQVksUUFBWixHQVRVO0dBREc7Q0FBWDs7a0JBY1MiLCJmaWxlIjoibWl4aW4vcmVnaXN0ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICd1bmRlcnNjb3JlJ1xyXG5pbXBvcnQgUHJvbWlzZSBmcm9tICdibHVlYmlyZCdcclxuXHJcbmNvbnN0IFJlZ2lzdGVyID0ge1xyXG4gIHJlZ2lzdGVyICgpIHtcclxuICAgIGxldCB7IGhleG8gfSA9IHRoaXNcclxuICAgIGxldCB7IGZpbHRlciB9ID0gaGV4by5leHRlbmRcclxuICAgIGhleG8uaW5qZWN0ID0gdGhpc1xyXG4gICAgZmlsdGVyLnJlZ2lzdGVyKCdhZnRlcl9yZW5kZXI6aHRtbCcsIHRoaXMuX3RyYW5zZm9ybS5iaW5kKHRoaXMpKVxyXG4gICAgZmlsdGVyLnJlZ2lzdGVyKCdhZnRlcl9pbml0JywgKCkgPT4ge1xyXG4gICAgICBoZXhvLmxvZy5kZWJ1ZygnW2hleG8taW5qZWN0XSBmaXJpbmcgaW5qZWN0X3JlYWR5JylcclxuICAgICAgaGV4by5leGVjRmlsdGVyKCdpbmplY3RfcmVhZHknLCB0aGlzLCB7IGNvbnRleHQ6IGhleG8gfSlcclxuICAgIH0pXHJcbiAgICB0aGlzLnJvdXRlci5yZWdpc3RlcigpXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBSZWdpc3RlclxyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
